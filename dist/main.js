(()=>{"use strict";const e=document.querySelector(".body");let t=!0;function n(){e.querySelector(".display")&&e.querySelector(".display").remove()}function a(d){const c=document.createElement("div");c.classList.add("display"),e.appendChild(c);const r=document.createElement("button"),s=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),m=document.createElement("div");r.classList.add("switchTemp"),s.classList.add("stat"),o.classList.add("stat"),i.classList.add("stat"),m.classList.add("stat"),!0===t?(r.innerHTML="Â°C",r.addEventListener("click",(e=>{!function(e,d){(function(e,t){const n=(t.temperature-32)*(5/9);t.temperature=Math.round(10*(n+Number.EPSILON))/10;const a=(t.tempHigh-32)*(5/9);t.tempHigh=Math.round(10*(a+Number.EPSILON))/10;const d=(t.tempLow-32)*(5/9);t.tempLow=Math.round(10*(d+Number.EPSILON))/10,console.log(t)})(0,d),n(),t=!1,a(d)}(0,d)}))):!1===t&&(r.innerHTML="Â°F",r.addEventListener("click",(e=>{!function(e,d){(function(e,t){const n=1.8*t.temperature+32;t.temperature=Math.round(10*(n+Number.EPSILON))/10;const a=1.8*t.tempHigh+32;t.tempHigh=Math.round(10*(a+Number.EPSILON))/10;const d=1.8*t.tempLow+32;t.tempLow=Math.round(10*(d+Number.EPSILON))/10,console.log(t)})(0,d),n(),t=!0,a(d)}(0,d)}))),c.appendChild(r),c.appendChild(s),c.appendChild(o),c.appendChild(i),c.appendChild(m);const l=document.createElement("h4"),u=document.createElement("h4"),p=document.createElement("h4"),h=document.createElement("h4"),L=document.createElement("h4"),E=document.createElement("h4"),M=document.createElement("h4"),H=document.createElement("h4");l.classList.add("keys"),p.classList.add("keys"),L.classList.add("keys"),M.classList.add("keys"),u.classList.add("values"),h.classList.add("values"),E.classList.add("values"),H.classList.add("values"),l.innerHTML="Weather: ",p.innerHTML="Temperature: ",L.innerHTML="Temp high: ",M.innerHTML="Temp low: ",u.innerHTML=d.weather,h.innerHTML=d.temperature,E.innerHTML=d.tempHigh,H.innerHTML=d.tempLow,s.appendChild(l),s.appendChild(u),o.appendChild(p),o.appendChild(h),i.appendChild(L),i.appendChild(E),m.appendChild(M),m.appendChild(H)}const d=document.querySelector("input"),c=document.querySelector(".searchBtn");let r={};c.addEventListener("click",(()=>{const e=d.value;console.log(e),function(e){fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&APPID=f267f51a8b8e85d282f5213c10ec1f47",{mode:"cors"}).then((e=>{if(e.ok)return e.json();throw new Error("Invalid city request")})).then((e=>{!function(e){r={weather:e.weather[0].main,temperature:e.main.temp,tempHigh:e.main.temp_max,tempLow:e.main.temp_min}}(e)})).then((()=>{!function(e){const t=1.8*(e.temperature-273.15)+32;e.temperature=Math.round(10*(t+Number.EPSILON))/10;const n=1.8*(e.tempHigh-273.15)+32;e.tempHigh=Math.round(10*(n+Number.EPSILON))/10;const a=1.8*(e.tempLow-273.15)+32;e.tempLow=Math.round(10*(a+Number.EPSILON))/10,console.log(e)}(r)})).then((()=>{n(),a(r)})).catch((function(e){alert(e)}))}(e)})),d.addEventListener("keypress",(e=>{"Enter"===e.key&&c.click()}))})();